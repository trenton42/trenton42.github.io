<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta http-equiv="X-Clacks-Overhead" content="GNU Terry Pratchett" />

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>Go For a Loop &middot; Trenton Broughton</title>

  
  <link rel="stylesheet" href="https://ikso.us/css/print.css" media="print">
  <link rel="stylesheet" href="https://ikso.us/css/poole.css">
  <link rel="stylesheet" href="https://ikso.us/css/syntax.css">
  <link rel="stylesheet" href="https://ikso.us/css/hyde.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Abril+Fatface|PT+Sans:400,400i,700">

  
  <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192"  href="/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  
  

</head>

  <body class=" ">
  <div class="sidebar" id="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <a href="https://ikso.us/"><h1>Trenton Broughton</h1></a>
      <p class="lead">
       danger: high entropy 
      </p>
    </div>

    <ul class="sidebar-nav">
      <li><a href="https://ikso.us/">Home</a> </li>
      <li><a href="/about/"> About Me </a></li><li><a href="/posts/"> Blahg Posts </a></li><li><a href="/machine/"> Machine </a></li>
    </ul>

    <p>&copy; 2024 All rights reserved. </p>
  </div>
</div>

    <div class="content container">
    <div class="post">
  <h1>Go For a Loop</h1>
  <span class="post-date">Tue, Jan 15, 2019</span>
  
  <a class="post-tag" href='/tags/go'>go</a>
  <a class="post-tag" href='/tags/code'>code</a> <p>Go, like many languages, has a <code>for</code> loop. The snippet below can help to understand the versatility of these loops. This mechanism goes well beyond simply counting integers, but can be used to implement any number of looping patterns. The important thing to remember is that the second expression in the for loop definition controls the loop, and can be used with any function or method that returns a <code>bool</code>, or any expression that evaluates to a <code>bool</code>. Also remember that the three expressions are all optional<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>

<span style="color:#f92672">import</span> (
	<span style="color:#e6db74">&#34;fmt&#34;</span>
)

<span style="color:#75715e">// The Looper holds our state while looping in the for loop
</span><span style="color:#75715e"></span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Looper</span> <span style="color:#66d9ef">struct</span> {
	<span style="color:#a6e22e">cnt</span> <span style="color:#66d9ef">int</span>
}

<span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">l</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">Looper</span>) <span style="color:#a6e22e">Initializer</span>() {
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;The loop has started!&#34;</span>)
	<span style="color:#a6e22e">l</span>.<span style="color:#a6e22e">cnt</span> = <span style="color:#ae81ff">1</span>
}

<span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">l</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">Looper</span>) <span style="color:#a6e22e">Checker</span>() <span style="color:#66d9ef">bool</span> {
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;Checking if cnt is greater than 5 (it&#39;s %d)\n&#34;</span>, <span style="color:#a6e22e">l</span>.<span style="color:#a6e22e">cnt</span>)
	<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">l</span>.<span style="color:#a6e22e">cnt</span> <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">5</span>
}

<span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">l</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">Looper</span>) <span style="color:#a6e22e">Incrementer</span>() {
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;Incrementing cnt from %d to %d...\n&#34;</span>, <span style="color:#a6e22e">l</span>.<span style="color:#a6e22e">cnt</span>, <span style="color:#a6e22e">l</span>.<span style="color:#a6e22e">cnt</span><span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>)
	<span style="color:#a6e22e">l</span>.<span style="color:#a6e22e">cnt</span><span style="color:#f92672">++</span>
}

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
	<span style="color:#a6e22e">t</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">Looper</span>{}
	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">t</span>.<span style="color:#a6e22e">Initializer</span>(); <span style="color:#a6e22e">t</span>.<span style="color:#a6e22e">Checker</span>(); <span style="color:#a6e22e">t</span>.<span style="color:#a6e22e">Incrementer</span>() {
		<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;This is in the loop&#34;</span>)
	}
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;Done Looping&#34;</span>)
}

</code></pre></div><p>Running this produces the output:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-txt" data-lang="txt">The loop has started!
Checking if cnt is greater than 5 (it&#39;s 1)
This is in the loop
Incrementing cnt from 1 to 2...
Checking if cnt is greater than 5 (it&#39;s 2)
This is in the loop
Incrementing cnt from 2 to 3...
Checking if cnt is greater than 5 (it&#39;s 3)
This is in the loop
Incrementing cnt from 3 to 4...
Checking if cnt is greater than 5 (it&#39;s 4)
This is in the loop
Incrementing cnt from 4 to 5...
Checking if cnt is greater than 5 (it&#39;s 5)
This is in the loop
Incrementing cnt from 5 to 6...
Checking if cnt is greater than 5 (it&#39;s 6)
Done Looping
</code></pre></div><p>You can run this locally, or view it on <a href="https://play.golang.org/p/a0WdDAADH2h">The Go Playground</a></p>
<section class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1" role="doc-endnote">
<p><a href="https://golang.org/ref/spec#For_statements">https://golang.org/ref/spec#For_statements</a>&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</section>

</div>


    </div>

    <script data-goatcounter="https://ikso.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>
  </body>
</html>